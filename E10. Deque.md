# E10. Deque

https://docs.python.org/ko/3/library/collections.html#collections.deque



- 양쪽 끝에서의 추가(`append`)와 팝(`pop`)을 양쪽에서 O(1)의 성능으로 지원한다.



## 10.1 데크 객체 만들기

```python
import collections

a = collections.deque(반복가능한객체) # 덱 객체 반환
b = collections.deque() # 빈 덱 객체 반환
```

- `반복가능한객체`(iterable)의 데이터를 `append()`로 초기화하여 `deque` 객체를 반환한다.



## 10.2 데크에 요소 추가하기

| 함수                   | 반환 | 설명                        |
| ---------------------- | ---- | --------------------------- |
| `append(요소)`         |      | 데크의 오른쪽에 `요소` 추가 |
| `appendleft(요소)`     |      | 데크의 왼쪽에 `요소` 추가   |
| `insert(인덱스, 요소)` |      | `인덱스`에 `요소` 추가      |



## 10.3 데크의 요소 접근하기

- 서브 스크립트 참조를 지원한다.
- 양쪽 끝에서는 O(1)이나 그 외에는 O(n)이므로, 후자의 경우를 위해서는 리스트를 사용하는 것이 좋다.

```python
a[0]	# 첫번째 요소 접근
a[-1]	# 마지막 요소 접근
```



## 10.4 데크에서 요소 삭제하기

| 함수           | 반환         | 설명                                                         |
| -------------- | ------------ | ------------------------------------------------------------ |
| `clear()`      |              | 데크에서 모든 요소를 삭제                                    |
| `pop()`        | `마지막요소` | 데크의 오른쪽에서 요소를 제거하고 반환<br />요소가 없으면 `IndexError` 발생 |
| `popleft()`    | `첫번째요소` | 데크의 왼쪽에서 요소를 제거하고 반환<br />요소가 없으면 `IndexError` 발생 |
| `remove(요소)` |              | 데크에서 `요소`를 삭제한다.<br />요소가 없으면 `ValueError`  |

```python
a.pop()		# 마지막 요소 제거하고 반환
a.popleft()	# 첫번째 요소 제거하고 반환
a.remove(요소)	# 해당 요소 제거
```

- 리스트와 달리 `pop()`은 파라미터가 없다. 인덱스를 전달해도 `TypeError` 발생한다.



## 10.5 데크에 객체 연결하기

| 함수                         | 반환 | 설명                                                         |
| ---------------------------- | ---- | ------------------------------------------------------------ |
| `extend(반복가능한객체)`     |      | 데크의 오른쪽에 `반복가능한객체`의 요소들을 추가한다.        |
| `extendleft(반복가능한객체)` |      | 데크의 왼쪽에 `반복가능한객체`의 요소들을 추가한다.<br />추가된 요소들의 순서는 원본의 순서를 뒤집은 것이다. |

```python
a = collections.deque()
a.extendleft(range(10))	# deque([9, 8, 7, 6, 5, 4, 3, 2, 1, 0])
```



## 10.6 데크 관련 연산들

| 함수                  | 반환  | 설명                                                         |
| --------------------- | ----- | ------------------------------------------------------------ |
| `len(데크)`           | `int` | `데크`의 요소의 길이를 반환한다.                             |
| `copy()`              |       | 데크의 얕은 복사(객체의 주소 복사)                           |
| `copy.copy(데크)`     |       | 데크의 얕은 복사                                             |
| `copy.deepcopy(데크)` |       | 데크의 깊은 복사                                             |
| `count(요소)`         | `int` | 데크에 있는 `요소`의 개수를 반환한다.                        |
| `index(요소)`         | `int` | `요소`의 인덱스를 반환한다.<br />`요소`를 찾지 못하면 `ValueError`를 발생시킨다. |
| `reverse()`           |       | 원본 객체의 순서를 뒤집고 `None`을 반환한다.                 |
| `reversed(데크)`      |       | `데크`의 순서를 뒤집어 새로운 `reversed` 객체를 반환한다.    |
| `rotate(n=1)`         |       | 데크를 `n`만큼 오른쪽으로 회전한다. 따라서 `n`이 음수이면 왼쪽으로 회전한다.<br />데크가 비어 있지 않으면 오른쪽으로 한 단계 회전하는 것은 `d.appendleft(d.pop())`와 같다.<br />왼쪽으로 한 단계 회전하는 것은 `d.append(d.popleft())`와 같다. |

